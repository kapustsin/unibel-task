# API

## Задача :book:
:heavy_check_mark:Спроектировать простую БД, обеспечивающую хранение информации о клиентах и их контактой информации: 
- Каждый клиент характеризуется именем; 
- Каждому клиенту в соответствие может быть поставлена информация о его контактах: 0 и более телефонных номеров, 0 и более адресов электронной почты.

:heavy_check_mark:Разработать в Spring Framework API, обеспечивающее работу с БД.

## Описание функционала: :mag:
API должно обеспечивать следующие функции:
-  Добавление нового клиента
-  Добавление нового контакта клиента (телефон или email)
-  Получение списка клиентов
-  Получение информации по заданному клиенту (по id)
-  Получение списка контактов заданного клиента
-  Получение списка контактов заданного типа заданного клиента


## Требования :heavy_exclamation_mark:
- :heavy_check_mark: Реализованный проект с описанием ендпоинтов разаработанного API выложить на GIT и предоставить ссылку.

## Дополнительно :bangbang:
- :whale2:Приложение размещено в Docker-контейнере (Docker compose)

## Eндпоинты API :electric_plug:

### 1. Добавление нового клиента

**Метод:** `POST`

**Путь:** `/api/client`

**Описание:** Создает нового клиента и возвращает сообщение об успешном создании клиента с указанием его ID.

**Пример запроса:**

```json
{
 "name":"Дегтярев Сергей Петрович","contacts":[{"type":"email","value":"s_degtyarev@mail.ru"},{"type":"email","value":"deg_s@gmail.com"},{"type":"phone","value":"+79035556123"}]
}
```

**Пример успешного ответа:**
Client created successfully. Id = 9

### 2. Добавление нового контакта клиента (телефон или email)

**Метод:** `PUT`

**Путь:** `/api/client/{id}/contacts`

**Описание:** Добавляет контакт клиенту с указанным в URL ID и возвращает сообщение об успешном обновлении.

**Пример запроса:**

```json
{
"type": "phone",
"value": "+79002556332"
}
```

**Пример успешного ответа:**
"Client {id} updated successfully"

**В случае ошибки:**
Если пользователь с указанным ID не найден, будет возвращен статус 404 и сообщение "Client {id} not found"

### 3. Получение списка клиентов

**Метод:** `GET`

**Путь:** `/api/client`

**Описание:** Возвращает список всех клиентов.

**Пример ответа:**
```json
[
    {
        "id": 1,
        "name": "Капустин Александр Павлович",
        "contacts": [
            {
                "type": "email",
                "value": "kapustsin@mail.ru"
            },
            {
                "type": "phone",
                "value": "+79015680021"
            }
        ]
    },
    {
        "id": 2,
        "name": "Садовский Евгений Григорьевич",
        "contacts": [
            {
                "type": "email",
                "value": "sadovsky@mail.ru"
            }
        ]
    }
]
```

### 4. Получение информации по заданному клиенту (по id)

**Метод:** `GET`

**Путь:** `/api/client/{id}`

**Описание:** Возвращает информацию о клиенте с указанным в URL ID.

**Пример успешного ответа:**

```json
{
    "id": 3,
    "name": "Дегтярев Сергей Петрович",
    "contacts": [
        {
            "type": "email",
            "value": "s_degtyarev@mail.ru"
        },
        {
            "type": "email",
            "value": "deg_s@gmail.com"
        },
        {
            "type": "phone",
            "value": "+79035556123"
        }
    ]
}

```

**В случае ошибки:**
Если пользователь с указанным ID не найден, будет возвращен статус 404 и сообщение "Client {id} not found"

### 5. Получение списка контактов заданного клиента

**Метод:** `GET`

**Путь:** `/api/client/{id}/contacts`

**Описание:** Возвращает список контактов клиента с указанным в URL ID.

**Пример успешного ответа:**

```json
[
    {
        "type": "phone",
        "value": "+79035556123"
    },
    {
        "type": "email",
        "value": "s_degtyarev@mail.ru"
    },
    {
        "type": "email",
        "value": "deg_s@gmail.com"
    }
]
```

**В случае ошибки:**
Если пользователь с указанным ID не найден, будет возвращен статус 404

### 6. Получение списка контактов заданного типа заданного клиента

**Метод:** `GET`

**Путь:** `/api/client/{id}/contacts/{type}`

**Описание:** Возвращает список контактов клиента с указанными в URL ID и типом контакта.

**Пример успешного ответа:**

```json
[
    {
        "type": "phone",
        "value": "+79035556123"
    }
]
```

**В случае ошибки:**
Если пользователь с указанным ID не найден, будет возвращен статус 404
